/**
 * angular-input-modified - Angular.js module to detect and indicate input modifications
 * @version v2.3.1
 * @link https://github.com/betsol/angular-input-modified
 * @license MIT
 *
 * @author Slava Fomin II <s.fomin@betsol.ru>
 */
!function(i,e){"use strict";function o(){return{restrict:"A",controller:["$scope","$element","$attrs",function(i,e,o){this.isEnabled=function(){return"true"==o.bsModifiable}}]}}e.module("ngInputModified",[]).directive("bsModifiable",o)}(window,angular),function(i,e){"use strict";function o(){var i={enabledGlobally:!0,modifiedClassName:"ng-modified",notModifiedClassName:"ng-not-modified"};return{enableGlobally:function(){return i.enabledGlobally=!0,this},disableGlobally:function(){return i.enabledGlobally=!1,this},setModifiedClassName:function(e){return i.modifiedClassName=String(e),this},setNotModifiedClassName:function(e){return i.notModifiedClassName=String(e),this},$get:function(){return i}}}e.module("ngInputModified").provider("inputModifiedConfig",o)}(window,angular),function(i,e){"use strict";function o(i,o,n){var d=o;return{name:"form",restrict:n?"EAC":"E",require:["?form"],link:function(o,n,t,f){function a(){e.forEach(s.modifiedModels,function(i){i.reset()}),e.forEach(s.modifiedChildForms,function(i){i.reset()})}function l(i,e){var n=e.indexOf(i),d=-1!==n,t=!0;i.modified&&!d?e.push(i):!i.modified&&d?e.splice(n,1):t=!1,t&&(r(),m&&"function"==typeof m.$$notifyChildFormModifiedStateChanged&&m.$$notifyChildFormModifiedStateChanged(s),u(),o.$emit("inputModified.formChanged",s.modified,s))}function r(){s.modifiedCount=s.modifiedModels.length,s.modifiedChildFormsCount=s.modifiedChildForms.length,s.modified=s.modifiedCount+s.modifiedChildFormsCount>0}function u(){i.addClass(n,s.modified?d.modifiedClassName:d.notModifiedClassName),i.removeClass(n,s.modified?d.notModifiedClassName:d.modifiedClassName)}var s=f[0],m=s.$$parentForm||n.parent().controller("form");s&&(s.modified=!1,s.reset=a,s.modifiedCount=0,s.modifiedModels=[],s.$$notifyModelModifiedStateChanged=function(i){l(i,s.modifiedModels)},s.modifiedChildFormsCount=0,s.modifiedChildForms=[],s.$$notifyChildFormModifiedStateChanged=function(i){l(i,s.modifiedChildForms)})}}}e.module("ngInputModified").directive("form",["$animate","inputModifiedConfig",function(i,e){return o(i,e,!1)}]).directive("ngForm",["$animate","inputModifiedConfig",function(i,e){return o(i,e,!0)}])}(window,angular),function(i,e){"use strict";function o(i,e,o,d){var t=e;return{restrict:"A",require:["?ngModel","?^form","?^bsModifiable"],link:function(e,f,a,l){function r(){v||u();var i=!n(g.$modelValue,g.masterValue);g.modified!==i&&(g.modified=i,h&&"function"==typeof h.$$notifyModelModifiedStateChanged&&h.$$notifyModelModifiedStateChanged(g),s())}function u(){g.masterValue=g.$modelValue,s(),v=!0}function s(){i.addClass(f,g.modified?t.modifiedClassName:t.notModifiedClassName),i.removeClass(f,g.modified?t.notModifiedClassName:t.modifiedClassName)}function m(){C(function(){y.apply(this,arguments),g.masterValue=g.$modelValue,g.modified=!1,h.$$notifyModelModifiedStateChanged(g),s()})}function c(){M||(M=d($).assign),M(e,g.masterValue)}function C(i){var e=g.$modelValue;g.$modelValue=null,o(function(){g.$modelValue=e,o(i,0)},0)}var M,$=a.ngModel,g=l[0],h=l[1],b=l[2];if(g){var p=b?b.isEnabled():void 0;if(!(t.enabledGlobally&&!1===p||!t.enabledGlobally&&!0!==p)){var v=!1,y=g.$setPristine;g.$setPristine=m,g.modified=!1,g.masterValue=void 0,g.reset=c,e.$watch($,r)}}}}}function n(i,o){return i=d(i),o=d(o),"object"==typeof i&&"object"==typeof o?i instanceof Date&&o instanceof Date?i.getTime()===o.getTime():e.equals(i,o):i==o}function d(i){return void 0===i||""===i?null:i}e.module("ngInputModified").directive("ngModel",o),o.$inject=["$animate","inputModifiedConfig","$timeout","$parse"]}(window,angular);